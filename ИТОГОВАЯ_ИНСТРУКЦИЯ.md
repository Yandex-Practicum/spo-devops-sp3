# Итоговая инструкция: Создание образа VM для обучения системных администраторов

## Проблема с VirtualBox на Apple Silicon

К сожалению, VirtualBox на Apple Silicon (M1/M2/M3) имеет серьезные ограничения:
- ❌ Не поддерживает x86_64 гостевые ОС
- ❌ Проблемы с ARM64 гостями (ошибки видеокарты)
- ❌ Ограниченная совместимость

## Рекомендуемые решения

### 1. UTM (рекомендуется для Apple Silicon)

**Преимущества:**
- ✅ Нативная поддержка ARM64
- ✅ Стабильная работа на Apple Silicon
- ✅ Бесплатно
- ✅ Поддерживает Ubuntu Server ARM64

**Инструкция:**
1. Следуйте файлу `UTM_ИНСТРУКЦИЯ.md`
2. Используйте Ubuntu Server ARM64
3. Экспортируйте готовый образ

### 2. GitHub Actions (для универсального образа)

**Преимущества:**
- ✅ Создает x86_64 образ (совместим со всеми платформами)
- ✅ Автоматическая сборка
- ✅ Работает на Linux runner

**Инструкция:**
1. Используйте файл `.github/workflows/build-vm.yml`
2. Push в репозиторий запустит автоматическую сборку
3. Скачайте готовый .ova файл из артефактов

### 3. Ручная сборка на Linux/Windows

**Преимущества:**
- ✅ Полная совместимость с VirtualBox
- ✅ x86_64 архитектура
- ✅ Стабильная работа

**Инструкция:**
1. Используйте файл `virtualbox.pkr.hcl`
2. Соберите на Linux или Windows машине
3. Поделитесь готовым .ova файлом

## Для студентов

### На Mac с Apple Silicon:
- Используйте UTM
- Импортируйте .utm файл

### На Windows/Linux:
- Используйте VirtualBox
- Импортируйте .ova файл

### На Intel Mac:
- Используйте VirtualBox
- Импортируйте .ova файл

## Готовые файлы в репозитории

1. **UTM_ИНСТРУКЦИЯ.md** - подробная инструкция для UTM
2. **БЫСТРАЯ_НАСТРОЙКА.md** - краткая инструкция
3. **setup-vm.sh** - скрипт автоматической настройки
4. **virtualbox.pkr.hcl** - конфигурация для x86_64
5. **.github/workflows/build-vm.yml** - автоматическая сборка

## Рекомендация

**Для обучения системных администраторов на Apple Silicon используйте UTM** - это наиболее стабильное и простое решение.
